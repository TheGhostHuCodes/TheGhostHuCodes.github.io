<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; style-src-attr 'unsafe-inline'">

    <title>Setting up an Ubuntu server in Azure | The Ghost Hu Codes</title>

    <link rel="preload" href="https://theghosthucodes.github.io/fonts/FiraCode-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="https://theghosthucodes.github.io/fonts/FiraCode-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://theghosthucodes.github.io/css/style.css?h=fd30ebca55fd38ab02dd">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ¦€</text></svg>">
    <script src="https://theghosthucodes.github.io/js/auto-close-popover-on-resize.js?h=4ef87d6fc7b98b22e044" defer></script>
    <script src="https://theghosthucodes.github.io/js/copy-code-to-clipboard.js?h=6aac77c47d552a0ac847" defer></script>
    <script src="https://theghosthucodes.github.io/js/theme-switcher.js?h=c7049c13f5599d2609bf" defer></script>

    <link rel="canonical" href="https://theghosthucodes.github.io/blog/setting-up-an-ubuntu-server-on-azure/">
    
    <meta name="author" content="Yung-Jin (Joey) Hu">
    <meta name="description" content="The one in which I use Microsoft hardware to Linux software.">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#211f1a">
    <meta name="color-scheme" content="dark">

    <meta property="og:title" content="Setting up an Ubuntu server in Azure">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://theghosthucodes.github.io/blog/setting-up-an-ubuntu-server-on-azure/">
    <meta property="og:description" content="The one in which I use Microsoft hardware to Linux software.">
    <meta property="og:site_name" content="The Ghost Hu Codes">
    <meta property="og:updated_time" content="2025-09-27T05:39:00.654790157+00:00">
    <meta property="article:published_time" content="2015-01-19T00:00:00+00:00">
    <meta property="article:tag" content="ubuntu">
    <meta property="article:tag" content="azure">
</head>

<body class="layout-center">
    <header class="header">
        <div class="header-container">
            <span class="header-logo-container">
                <a href="https://theghosthucodes.github.io">
                    <span class="logo">The Ghost Hu Codes</span>
                </a>
            </span>
        </div>
        <nav class="main-menu" aria-label="Main Menu">
            <a class="skip-to-content" href="#main">Skip to main content</a>
            <button class="main-menu-dropdown-button" popovertarget="nav-menu">Menu</button>
            <ul id="nav-menu" class="main-menu-items" aria-label="Site Navigation" popover>
                <li><a href="https://theghosthucodes.github.io/blog/">blog</a></li>
                <li><a href="https://theghosthucodes.github.io/about/">about</a></li>
                <li><a href="https://theghosthucodes.github.io/tags/">tags</a></li>
            </ul>
        </nav>
    </header>
    <main id="main">
        <article class="post content">
            <header>
                <h1 class="post-title">
                    <a href="https://theghosthucodes.github.io/blog/setting-up-an-ubuntu-server-on-azure/">Setting up an Ubuntu server in Azure</a>
                </h1>
                <ul class="post-meta">
                    <li title="Published on 2015-01-19"><time datetime="2015-01-19">2015.01.19</time></li>
                    <li role="separator" aria-hidden="true">::</li>
                    <li title="Author">Yung-Jin (Joey) Hu</li>
                    <li role="separator" aria-hidden="true">::</li>
                    <li title="322 words"><time datetime="PT2M">2 min</time> read</li>
                </ul>
                <div class="post-tags">
                    <span>#<a rel="tag" href="https://theghosthucodes.github.io/tags/ubuntu/">ubuntu</a></span>
                    <span>#<a rel="tag" href="https://theghosthucodes.github.io/tags/azure/">azure</a></span>
                </div>
            </header>

<p>For those of you who don't know, I work at a Microsoft shop. It's not as bad as
it initially sounds. Microsoft has changed a lot since the days when I was sure
that <a href="http://www.hanselman.com/blog/MicrosoftKilledMyPappy.aspx">they killed my
pappy</a>. By the way,
my favorite line from Scott Hanselman's post is how he describes Microsoft:
"<em>We're not nearly as organized as we'd need to be to be as evil as you might
think we are.</em>" I'll just leave it at that.</p>
<p>One of the perks of working at a Microsoft shop is my MSDN account,
and one of the perks of having an MSDN account is the free Azure benefits that
I get. What have I decided to do with my 100 Azure fun-bucks per month, you ask?
Of course, I'm going to set up an Ubuntu server! For the curious, 100 quatloos
a month on Azure can get you a D1 Linux VM (1 core, 3.5 GB RAM, 50 GB SSD), some
hard drive space, and leave enough left over to play around with some of the
other neat things that seem to be showing up on Azure (HDInsight / Machine
Learning, I'm looking at you).</p>
<p>Microsoft's "<a href="http://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-tutorial/">Create a Virtual Machine Running
Linux</a>"
is surprisingly helpful, considering my usual subpar experience with Microsoft
documentation. If you're interested in doing things right, you should probably
also check out "<a href="http://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-introduction/">Introduction to Linux on
Azure</a>"
I ended up just provisioning the VM with a password, and later I generated some
SSH keys like so:</p>
<pre data-lang="sh" style="background-color:#002b36;color:#839496;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#b58900;">ssh-keygen</span><span style="color:#268bd2;"> -t</span><span> rsa</span><span style="color:#268bd2;"> -b</span><span> 4096
</span><span style="color:#b58900;">ssh-copy-id</span><span style="color:#268bd2;"> -i</span><span> id_rsa.pub </span><span style="color:#657b83;">&lt;</span><span>user</span><span style="color:#657b83;">&gt;</span><span>@</span><span style="color:#657b83;">&lt;</span><span>DNS name</span><span style="color:#657b83;">&gt;
</span></code></pre>
<p>If you end up going my route, don't forget to disable password login to the
machine when you're all done. You can do that by editing your <code>sshd_config</code>
file.</p>
<pre data-lang="sh" style="background-color:#002b36;color:#839496;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#b58900;">sudo</span><span> vi /etc/ssh/sshd_config
</span></code></pre>
<p>changing the line:</p>
<pre data-lang="sh" style="background-color:#002b36;color:#839496;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#b58900;">PasswordAuthentication</span><span> yes
</span></code></pre>
<p>to read:</p>
<pre data-lang="sh" style="background-color:#002b36;color:#839496;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#b58900;">PasswordAuthentication</span><span> no
</span></code></pre>
<p>Finally, you'll want to restart the VM so that your changes will take effect.</p>

        </article>
        <nav class="post-navigation">
            <header class="post-navigation-title">
                <h2>Read More Posts</h2>
                <hr>
            </header>
            <div class="post-navigation-buttons">
                <a rel="next" href="https://theghosthucodes.github.io/blog/adding-swap-space-to-azure-ubuntu-vm/" aria-label="Next article">
                    <span aria-hidden="true">&lt;&nbsp;[</span>Adding Swap space to an Ubuntu server in Azure<span aria-hidden="true">]</span>
                </a>
                <span aria-hidden="true" role="separator">::</span>
                <a rel="prev" href="https://theghosthucodes.github.io/blog/building-gtest-1-7-on-ubuntu/" aria-label="Prev article">
                    <span aria-hidden="true">[</span>Building googletest 1.7.0 on Ubuntu<span aria-hidden="true">]&nbsp;&gt;</span>
                </a>
            </div>
        </nav>
    </main>
    <footer class="footer">
        <address class="socials">
            <ul>
                <li>
                    <a class="social-link" rel="me" href="https://github.com/TheGhostHuCodes" title="github">
                        <svg role="img" aria-label="github">
                            <use aria-hidden="true" href="https://theghosthucodes.github.io/images/social_icons/github.svg#icon" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="social-link" rel="me" href="https://www.linkedin.com/in/yungjinhu/" title="linkedin">
                        <svg role="img" aria-label="linkedin">
                            <use aria-hidden="true" href="https://theghosthucodes.github.io/images/social_icons/linkedin.svg#icon" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="social-link" rel="me" href="https://stackoverflow.com/users/1701171/pythonjin" title="stackoverflow">
                        <svg role="img" aria-label="stackoverflow">
                            <use aria-hidden="true" href="https://theghosthucodes.github.io/images/social_icons/stackoverflow.svg#icon" />
                        </svg>
                    </a>
                </li>
            </ul>
        </address>
        <p class="copyright">
            <span>Â© <time>2025</time> Yung-Jin (Joey) Hu</span>
            <span>Powered by <a href="https://www.getzola.org">Zola</a></span>
            <span>Theme by <a href="https://eyalkalderon.com">ebkalderon</a></span>
        </p>
    </footer>
</body>

</html>
